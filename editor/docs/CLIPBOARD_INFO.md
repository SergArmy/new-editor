# –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –±–ª–æ–∫–æ–≤

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### 1. Clipboard API
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞—Ç–∏–≤–Ω—ã–π Clipboard API –±—Ä–∞—É–∑–µ—Ä–∞:
```javascript
// –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
await navigator.clipboard.writeText(serializedData);

// –í—Å—Ç–∞–≤–∫–∞
const text = await navigator.clipboard.readText();
```

### 2. –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

**–§–æ—Ä–º–∞—Ç**: JSON —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏

```json
{
  "format": "editor/blocks",
  "version": "1.0",
  "blocks": [
    {
      "id": "block-123",
      "type": "text",
      "position": 1,
      "parentId": null,
      "protected": false,
      "data": {
        "text": "–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –±–ª–æ–∫–∞",
        "html": "<p>–°–æ–¥–µ—Ä–∂–∏–º–æ–µ –±–ª–æ–∫–∞</p>"
      }
    }
  ]
}
```

### 3. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### ClipboardManager (`src/interactions/clipboard/ClipboardManager.js`)
- `copy(blocks)` - –∫–æ–ø–∏—Ä—É–µ—Ç –±–ª–æ–∫–∏ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
- `paste()` - —á–∏—Ç–∞–µ—Ç –±–ª–æ–∫–∏ –∏–∑ –±—É—Ñ–µ—Ä–∞ –æ–±–º–µ–Ω–∞

#### ClipboardSerializer (`src/interactions/clipboard/ClipboardSerializer.js`)
- `serialize(blocks)` - –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –±–ª–æ–∫–∏ –≤ JSON-—Å—Ç—Ä–æ–∫—É
- `deserialize(text)` - –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –±–ª–æ–∫–∏ –∏–∑ JSON

#### EditorCore
- `_handleCopy()` - –ø–æ–ª—É—á–∞–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –±–ª–æ–∫–∏ –∏ –≤—ã–∑—ã–≤–∞–µ—Ç ClipboardManager
- `_handlePaste()` - –≤—Å—Ç–∞–≤–ª—è–µ—Ç –±–ª–æ–∫–∏ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É CreateBlockCommand (–¥–ª—è undo/redo)

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### ‚ùå –ß—Ç–æ –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–í—Å—Ç–∞–≤–∫–∞ –≤ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** (Word, Outlook, –ë–ª–æ–∫–Ω–æ—Ç):
   - –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ JSON, –Ω–µ –≤ HTML/RTF
   - –°—Ç–æ—Ä–æ–Ω–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–µ –ø–æ–Ω–∏–º–∞—é—Ç –Ω–∞—à —Ñ–æ—Ä–º–∞—Ç

2. **–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π**:
   - –†–µ–¥–∞–∫—Ç–æ—Ä —á–∏—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–π JSON-—Ñ–æ—Ä–º–∞—Ç
   - –û–±—ã—á–Ω—ã–π —Ç–µ–∫—Å—Ç/HTML –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç—Å—è

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–í–Ω—É—Ç—Ä–∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞**:
   - –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –±–ª–æ–∫–æ–≤
   - –í—Å—Ç–∞–≤–∫–∞ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   - Undo/Redo –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π –≤—Å—Ç–∞–≤–∫–∏

2. **–ú–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏**:
   - –ú–æ–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –±–ª–æ–∫ –≤ –æ–¥–Ω–æ–π –≤–∫–ª–∞–¥–∫–µ
   - –í—Å—Ç–∞–≤–∏—Ç—å –≤ –¥—Ä—É–≥—É—é –≤–∫–ª–∞–¥–∫—É —Å —Ç–µ–º –∂–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–º

## –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏

- `Ctrl+C` / `Cmd+C` - –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –±–ª–æ–∫–∏
- `Ctrl+V` / `Cmd+V` - –≤—Å—Ç–∞–≤–∏—Ç—å –±–ª–æ–∫–∏
- `Ctrl+Click` - –¥–æ–±–∞–≤–∏—Ç—å –±–ª–æ–∫ –∫ –≤—ã–¥–µ–ª–µ–Ω–∏—é
- `Esc` - —Å–Ω—è—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏–µ

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –±—Ä–∞—É–∑–µ—Ä–∞

–î–ª—è —Ä–∞–±–æ—Ç—ã –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è/–≤—Å—Ç–∞–≤–∫–∏ —Ç—Ä–µ–±—É—é—Ç—Å—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è:
- **–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ**: –æ–±—ã—á–Ω–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- **–í—Å—Ç–∞–≤–∫–∞**: –º–æ–∂–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

–ï—Å–ª–∏ –¥–æ—Å—Ç—É–ø –∫ –±—É—Ñ–µ—Ä—É –æ–±–º–µ–Ω–∞ –∑–∞–ø—Ä–µ—â–µ–Ω:
```javascript
catch (e) {
  if (e.name === 'NotAllowedError' || e.name === 'SecurityError') {
    console.warn('Clipboard access denied');
  }
}
```

## –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:

1. **–≠–∫—Å–ø–æ—Ä—Ç –≤ HTML**:
   - –î–æ–±–∞–≤–∏—Ç—å HTML-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≤ `ClipboardItem`
   - –ü–æ–∑–≤–æ–ª–∏—Ç –≤—Å—Ç–∞–≤–ª—è—Ç—å –≤ Word/Email —Å –±–∞–∑–æ–≤—ã–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º

2. **–ò–º–ø–æ—Ä—Ç —Ç–µ–∫—Å—Ç–∞**:
   - –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞—Ç—å –æ–±—ã—á–Ω—ã–π —Ç–µ–∫—Å—Ç –∏–∑ –±—É—Ñ–µ—Ä–∞ –æ–±–º–µ–Ω–∞
   - –°–æ–∑–¥–∞–≤–∞—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –±–ª–æ–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

3. **–≠–∫—Å–ø–æ—Ä—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**:
   - –î–ª—è ImageBlock –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
   - –ù–µ —Ç–æ–ª—å–∫–æ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ

## –û—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏

–í–∫–ª—é—á–µ–Ω—ã –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:
```
üîµ Keyboard: Ctrl+C detected!
Clipboard: calling _handleCopy()
Clipboard: selected blocks: ['block-1', 'block-2']
Clipboard: copying blocks: [...]
ClipboardManager: copied to clipboard: {...}
Clipboard: blocks copied successfully
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
2. –í—ã–±–µ—Ä–∏—Ç–µ –±–ª–æ–∫
3. –ù–∞–∂–º–∏—Ç–µ `Ctrl+C`
4. –î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –ª–æ–≥–∏ —Å üîµ —ç–º–æ–¥–∑–∏

–ï—Å–ª–∏ –ª–æ–≥–∏ –Ω–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è - –ø—Ä–æ–±–ª–µ–º–∞ —Å –ø–µ—Ä–µ—Ö–≤–∞—Ç–æ–º —Å–æ–±—ã—Ç–∏–π –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã.

