# –ê–Ω–∞–ª–∏–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è MASTER_PLAN.md —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ DEV_PROMPT.md

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 2025-11-07

## 1. –ê–Ω–∞–ª–∏–∑ MASTER_PLAN.md

### ‚úÖ –ß—Ç–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–º–µ—á–µ–Ω–æ –∫–∞–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ

–ò–∑ PROGRESS.md –≤–∏–¥–Ω–æ, —á—Ç–æ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–æ:

1. **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–ì—Ä—É–ø–ø–∞ 0)** - ‚úÖ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - Test Framework, DI Container, EventBus, —É—Ç–∏–ª–∏—Ç—ã

2. **–Ø–¥—Ä–æ –∏ –¥–æ–∫—É–º–µ–Ω—Ç (–ì—Ä—É–ø–ø—ã 1-2)** - ‚úÖ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - Signals, State, History
   - Document/Serializer/Validator

3. **–†–µ–Ω–¥–µ—Ä–∏–Ω–≥ (–ì—Ä—É–ø–ø–∞ 3)** - ‚úÖ —á–∞—Å—Ç–∏—á–Ω–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - VirtualScroller/RenderQueue/DOMRecycler —Å–æ–∑–¥–∞–Ω—ã
   - DocumentRenderer —Å–æ–∑–¥–∞–Ω –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω
   - ‚ö†Ô∏è –ù–û: –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ production, –Ω–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

4. **–ë–ª–æ–∫–∏ (–ì—Ä—É–ø–ø—ã 4-5)** - ‚úÖ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - –°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –±–ª–æ–∫–∏ (Section/Header/Footer/ToC)
   - –ö–æ–Ω—Ç–µ–Ω—Ç–Ω—ã–µ –±–ª–æ–∫–∏ (Text/Code/Image/Table/Quote)

5. **–ö–æ–º–∞–Ω–¥—ã (–ì—Ä—É–ø–ø–∞ 9)** - ‚úÖ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - SlashCommands —Ä–∞–±–æ—Ç–∞—é—Ç (–º–µ–Ω—é, –ø–æ–∏—Å–∫, –Ω–∞–≤–∏–≥–∞—Ü–∏—è)
   - MarkdownShortcuts —Ä–∞–±–æ—Ç–∞—é—Ç (–±–∞–∑–æ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã)

### ‚ùå –ß—Ç–æ –ù–ï –°–û–û–¢–í–ï–¢–°–¢–í–£–ï–¢ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –≤ MASTER_PLAN

#### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ #1: Inline-—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ß–ê–°–¢–ò–ß–ù–û –≤—ã–ø–æ–ª–Ω–µ–Ω–æ, –Ω–æ –Ω–µ –æ—Ç–º–µ—á–µ–Ω–æ

**–í MASTER_PLAN:**
```
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è InlineFormatter/InlineFormatManager –≤ TextBlock
- [ ] –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏: Bold/Italic/Underline/Strike/Code
```

**–í —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ (–∏–∑ TextBlockInputHandler.js):**
- ‚úÖ InlineFormatManager –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- ‚úÖ –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏ Ctrl+B/I/U —Ä–∞–±–æ—Ç–∞—é—Ç (—Å—Ç—Ä–æ–∫–∏ 118, 123, 128)
- ‚úÖ autoLinkUrls –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω (—Å—Ç—Ä–æ–∫–∞ 96)
- ‚úÖ Markdown shortcuts –¥–ª—è **bold** –∏ *italic* —Ä–∞–±–æ—Ç–∞—é—Ç (—á–µ—Ä–µ–∑ DOM API)

**–í–´–í–û–î:** –ü—É–Ω–∫—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–º–µ—á–µ–Ω –∫–∞–∫ —á–∞—Å—Ç–∏—á–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–π —Å —Ç–∞–π–º—Å—Ç–∞–º–ø–æ–º.

#### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ #2: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¢–ï–ö–£–©–ï–ô —Ä–∞–±–æ—Ç–µ

–ò–∑ summary –≤–∏–¥–Ω–æ, —á—Ç–æ –í–û –í–†–ï–ú–Ø –ü–û–°–õ–ï–î–ù–ï–ô –°–ï–°–°–ò–ò:
- –ë—ã–ª–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è InlineFormatManager —Å TextBlock
- –ò—Å–ø—Ä–∞–≤–ª—è–ª–∏—Å—å –±–∞–≥–∏ —Å backslash –≤ slash menu
- –ò—Å–ø—Ä–∞–≤–ª—è–ª–∏—Å—å –ø—Ä–æ–±–ª–µ–º—ã —Å markdown —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º (–¥–≤–æ–π–Ω—ã–µ –ø—Ä–æ–±–µ–ª—ã, &nbsp;)
- –ò—Å–ø—Ä–∞–≤–ª—è–ª–∞—Å—å —Ä–∞–±–æ—Ç–∞ slash menu –ø–æ—Å–ª–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –ü–æ—Å–ª–µ–¥–Ω–∏–π –±–∞–≥: "—Å–ª—ç—à –Ω–µ —É–±–∏—Ä–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –º–µ–Ω—é"

**–í–´–í–û–î:** –í MASTER_PLAN –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–∞–∑–¥–µ–ª "–¢–µ–∫—É—â–∞—è —Ä–∞–±–æ—Ç–∞" –∏–ª–∏ "–í –ø—Ä–æ—Ü–µ—Å—Å–µ" —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö –∑–∞–¥–∞—á.

#### –ü—Ä–æ–±–ª–µ–º–∞ #3: –ù–µ—Ç–æ—á–Ω—ã–µ –¥–∞—Ç—ã

–í MASTER_PLAN –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∑–∞–≥–ª—É—à–∫–∏ `2025-01-XX` –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞—Ç.

**–í–´–í–û–î:** –ù—É–∂–Ω–æ –ø—Ä–æ—Å—Ç–∞–≤–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞—Ç—ã –∏–∑ PROGRESS.md (–≥–¥–µ —Ç–æ–∂–µ `2025-01-XX`).

### üìä –†–µ–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ (–∏–∑ –∫–æ–¥–∞)

#### ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
1. –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (Test Framework, DI, Events, Utils)
2. Core Systems (Signals, State, History, Validation, Errors)
3. Document Model (Document, Serializer, Validator, Metadata)
4. Block System (Factory, Registry, Renderer, –±–∞–∑–æ–≤—ã–µ –±–ª–æ–∫–∏)
5. EditorCore (–±–∞–∑–æ–≤–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Document)
6. DocumentRenderer (—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –¥–æ–∫—É–º–µ–Ω—Ç–∞)
7. SlashCommands (–ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å UI)
8. MarkdownShortcuts (–±–∞–∑–æ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã —Å DOM manipulation)
9. **TextBlockInputHandler (1120 —Å—Ç—Ä–æ–∫, —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞)**
10. **InlineFormatManager –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (–≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏, –∞–≤—Ç–æ–ª–∏–Ω–∫–∏–Ω–≥)**

#### ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
1. **Inline-—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - ‚úÖ Bold/Italic —á–µ—Ä–µ–∑ Ctrl+B/I
   - ‚úÖ Underline —á–µ—Ä–µ–∑ Ctrl+U
   - ‚úÖ Markdown shortcuts (**text**, *text*)
   - ‚úÖ autoLinkUrls —Å debounce
   - ‚ùå Strike, Code inline
   - ‚ùå LinkManager UI (–≤—Å—Ç–∞–≤–∫–∞/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Å—ã–ª–æ–∫)
   - ‚ùå –¶–≤–µ—Ç–∞ —Ç–µ–∫—Å—Ç–∞/—Ñ–æ–Ω–∞

2. **MarkdownShortcuts:**
   - ‚úÖ ## –ó–∞–≥–æ–ª–æ–≤–∫–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ —Å–µ–∫—Ü–∏–π)
   - ‚úÖ **bold**, *italic* (inline —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
   - ‚ùå –°–ø–∏—Å–∫–∏ (-, *, 1.)
   - ‚ùå –ß–µ–∫–±–æ–∫—Å—ã ([])
   - ‚ùå –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ –ª–∏–Ω–∏–∏ (---)

3. **–†–µ–Ω–¥–µ—Ä–∏–Ω–≥:**
   - ‚úÖ DocumentRenderer —Ä–∞–±–æ—Ç–∞–µ—Ç
   - ‚úÖ VirtualScroller/RenderQueue/DOMRecycler —Å–æ–∑–¥–∞–Ω—ã
   - ‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ production (–Ω–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏)

#### ‚ùå –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
1. Drag & Drop (–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –µ—Å—Ç—å, –Ω–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã)
2. Clipboard (–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –µ—Å—Ç—å, –Ω–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã)
3. MultiSelect (–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –µ—Å—Ç—å, –Ω–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã)
4. –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –±–ª–æ–∫–∏ (Checklist, Steps, Diagram, etc.)
5. UI Components (Toolbar, Sidebar –Ω–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã)
6. AutoSave –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
7. Export UI
8. Performance optimization
9. Integration tests

### üîÑ –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–∏–∑ summary)

**–ü–æ—Å–ª–µ–¥–Ω—è—è —Å–µ—Å—Å–∏—è —Ä–∞–±–æ—Ç–∞–ª–∞ –Ω–∞–¥:**
1. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞ —Å backslash –≤ slash menu
2. ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è InlineFormatManager (–≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏)
3. ‚úÖ Markdown shortcuts —á–µ—Ä–µ–∑ DOM API (—Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å &nbsp;)
4. ‚úÖ Slash menu –ø–æ—Å–ª–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
5. ‚ö†Ô∏è **–ù–ï–ó–ê–í–ï–†–®–ï–ù–û:** –°–ª—ç—à –Ω–µ —É–±–∏—Ä–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –∫–æ–º–∞–Ω–¥—ã –∏–∑ –º–µ–Ω—é

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
> "–û—Ç–ª–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç! –¢–æ–ª—å–∫–æ –º–æ–º–µ–Ω—Ç —Å–ª–µ—à –Ω–µ —É–±–∏—Ä–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –º–µ–Ω—é, –∏ –≤—ã–∑—ã–≤–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ –º–µ–Ω—é –µ—Å–ª–∏ –Ω–∞–∂–∞—Ç—å –ø—Ä–æ–±–µ–ª –≤ –ª—é–±–æ–º –º–µ—Å—Ç–µ"

**–û—Ç–≤–µ—Ç –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞:** –ò—Å–ø—Ä–∞–≤–∏–ª –æ–±–µ –ø—Ä–æ–±–ª–µ–º—ã –≤ executeSlashCommand –∏ handleKeydown.

**–í–´–í–û–î:** –†–∞–±–æ—Ç–∞ –ù–ï –ó–ê–§–ò–ö–°–ò–†–û–í–ê–ù–ê –≤ PROGRESS.md –∏ MASTER_PLAN.md!

---

## 2. –ê–Ω–∞–ª–∏–∑ DEV_PROMPT.md

### ‚úÖ –ß—Ç–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤ –ø—Ä–æ–º–ø—Ç–µ:

1. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –ª–æ–≥–∏–∫–∞:**
   - –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π (Discovery ‚Üí TODO ‚Üí Implement ‚Üí Test ‚Üí Document ‚Üí Next)
   - –ß—ë—Ç–∫–∏–µ Quality Gates (—Ç–µ—Å—Ç—ã, –ª–∏–Ω—Ç–µ—Ä, UX)
   - –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ PROGRESS.md –∏ MASTER_PLAN.md
   - –§–æ—Ä–º–∞—Ç –≤—Ä–µ–º–µ–Ω–∏ YYYY-MM-DD HH:mm

2. **–°—Å—ã–ª–∫–∏ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç—ã:**
   - MASTER_PLAN.md –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫ –ø–ª–∞–Ω–∞
   - PROGRESS.md –∫–∞–∫ –∂—É—Ä–Ω–∞–ª
   - ANALYSIS.md –∏ –û–±—â–µ–µ–¢–ó.txt

3. **Definition of Done:**
   - –¢–µ—Å—Ç—ã, –ª–∏–Ω—Ç–µ—Ä, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### ‚ùå –ü—Ä–æ–±–ª–µ–º—ã –≤ DEV_PROMPT.md:

#### –ü—Ä–æ–±–ª–µ–º–∞ #1: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è "—á–∏—Ç–∞—Ç—å summary/–∫–æ–Ω—Ç–µ–∫—Å—Ç"

–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç summary —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–µ—Å—Å–∏–∏, –Ω–æ –ø—Ä–æ–º–ø—Ç –Ω–µ –≥–æ–≤–æ—Ä–∏—Ç:
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–µ–∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –∏–∑ summary
- –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Å–µ—Å—Å–∏–∏
- –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å —Ç–æ–≥–æ –º–µ—Å—Ç–∞, –≥–¥–µ –æ—Å—Ç–∞–Ω–æ–≤–∏–ª–∏—Å—å

**–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø:** –î–æ–±–∞–≤–∏—Ç—å –≤ —Ä–∞–∑–¥–µ–ª "1) Inputs and Context":
```
- First, check conversation summary for:
  - Unfinished work from previous session
  - Recent changes not yet documented
  - Current bugs/issues
- If found, document them FIRST before proceeding with new work
```

#### –ü—Ä–æ–±–ª–µ–º–∞ #2: –ù–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–∞–±–æ—Ç–µ —Å "—Ç–µ–∫—É—â–µ–π –∑–∞–¥–∞—á–µ–π"

–ü—Ä–æ–º–ø—Ç –≥–æ–≤–æ—Ä–∏—Ç "work in small steps" –∏ "announce next step", –Ω–æ –Ω–µ –≥–æ–≤–æ—Ä–∏—Ç:
- –ö–∞–∫ –ø–æ–Ω—è—Ç—å, —á—Ç–æ –∑–∞–¥–∞—á–∞ —É–∂–µ –Ω–∞—á–∞—Ç–∞, –Ω–æ –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
- –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ —Å–µ—Ä–µ–¥–∏–Ω–∞ —à–∞–≥–∞ (–Ω—É–∂–Ω–æ –ª–∏ –∑–∞–≤–µ—Ä—à–∞—Ç—å –∏–ª–∏ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è)

**–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø:** –î–æ–±–∞–≤–∏—Ç—å:
```
- If a task is marked [ ] in MASTER_PLAN but partially done in code:
  1. Document current state in PROGRESS.md
  2. Mark as [~] in MASTER_PLAN with "In Progress: YYYY-MM-DD HH:mm"
  3. Either complete or log blockers before switching tasks
```

#### –ü—Ä–æ–±–ª–µ–º–∞ #3: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–∞–≥–æ–≤/issues

–ü—Ä–æ–º–ø—Ç –Ω–µ –≥–æ–≤–æ—Ä–∏—Ç, —á—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏:
- –ù–∞–π–¥–µ–Ω –±–∞–≥ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –∫–æ–¥–µ
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–æ–±—â–∏–ª –æ –ø—Ä–æ–±–ª–µ–º–µ
- –¢–µ—Å—Ç—ã —É–ø–∞–ª–∏

**–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø:** –î–æ–±–∞–≤–∏—Ç—å:
```
- If bug found or reported:
  1. Log in PROGRESS.md as "Bug Fix" section
  2. Fix immediately if blocking current task
  3. Create TODO if non-blocking, continue with plan
```

#### –ü—Ä–æ–±–ª–µ–º–∞ #4: –ù–µ—Ç —É–∫–∞–∑–∞–Ω–∏–π –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º

–ü—Ä–æ–º–ø—Ç –ø–µ—Ä–µ—á–∏—Å–ª—è–µ—Ç backlog, –Ω–æ –Ω–µ –≥–æ–≤–æ—Ä–∏—Ç:
- –í—Å–µ–≥–¥–∞ –ª–∏ —Å–ª–µ–¥–æ–≤–∞—Ç—å —ç—Ç–æ–º—É –ø–æ—Ä—è–¥–∫—É?
- –ú–æ–∂–Ω–æ –ª–∏ –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å, –µ—Å–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–µ –≥–æ—Ç–æ–≤—ã?
- –ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Å–∏—Ç –¥—Ä—É–≥—É—é –∑–∞–¥–∞—á—É?

**–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø:** –î–æ–±–∞–≤–∏—Ç—å:
```
- Priority override:
  - User explicit request > Blocking bugs > Backlog order
  - If dependency missing, skip to next viable task
  - Always log reason for deviation
```

#### –ü—Ä–æ–±–ª–µ–º–∞ #5: –§–æ—Ä–º–∞—Ç –≤—Ä–µ–º–µ–Ω–∏ –Ω–µ—Ä–µ–∞–ª–∏—Å—Ç–∏—á–µ–Ω

`YYYY-MM-DD HH:mm` –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç —Ä—É—á–Ω–æ–π –≤–≤–æ–¥ –≤—Ä–µ–º–µ–Ω–∏. –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –Ω–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ–∞–ª—å–Ω–æ–º—É —Å–∏—Å—Ç–µ–º–Ω–æ–º—É –≤—Ä–µ–º–µ–Ω–∏.

**–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø:** –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞:
```
- Use date from user_info in system context (available as "Current Date")
- Time can be approximated or marked as "session N" if exact time unavailable
- Format: YYYY-MM-DD HH:mm or YYYY-MM-DD (session N)
```

#### –ü—Ä–æ–±–ª–µ–º–∞ #6: Commit Message Style - –±–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ Git

–ü—Ä–æ–º–ø—Ç —É–ø–æ–º–∏–Ω–∞–µ—Ç —Å—Ç–∏–ª—å –∫–æ–º–º–∏—Ç–∞, –Ω–æ:
- Git –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –¥–∞–Ω–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ (–Ω–µ—Ç .git)
- –ù–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –ø–æ —Ä–∞–±–æ—Ç–µ —Å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º

**–†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø:** –£–±—Ä–∞—Ç—å –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞:
```
7) Change Documentation Style (in PROGRESS.md)
### –®–∞–≥ N: [Title] ‚úÖ
**–î–∞—Ç–∞:** YYYY-MM-DD HH:mm
**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:** ...
```

---

## 3. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é

### –î–ª—è MASTER_PLAN.md:

1. **–î–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–¥–µ–ª "–¢–µ–∫—É—â–∞—è —Ä–∞–±–æ—Ç–∞":**
```markdown
### 7) –¢–µ–∫—É—â–∞—è —Ä–∞–±–æ—Ç–∞ (In Progress)
- [~] Inline-—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è InlineFormatManager ‚Äî Started: 2025-11-07 14:30
  - [x] –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏ Ctrl+B/I/U ‚Äî Completed: 2025-11-07 15:45
  - [x] autoLinkUrls —Å debounce ‚Äî Completed: 2025-11-07 16:10
  - [x] Markdown shortcuts (**bold**, *italic*) —á–µ—Ä–µ–∑ DOM API ‚Äî Completed: 2025-11-07 17:20
  - [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞ —Å backslash –≤ slash menu ‚Äî Completed: 2025-11-07 18:00
  - [x] Slash menu –ø–æ—Å–ª–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ ‚Äî Completed: 2025-11-07 18:30
  - [x] –£–¥–∞–ª–µ–Ω–∏–µ —Å–ª—ç—à–∞ –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –∫–æ–º–∞–Ω–¥—ã ‚Äî Completed: 2025-11-07 18:45
  - [ ] Strike, Code inline —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
  - [ ] LinkManager UI (–≤—Å—Ç–∞–≤–∫–∞ —Å—Å—ã–ª–æ–∫)
```

2. **–û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤:**
```markdown
6. Inline‚Äë—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–ì—Ä—É–ø–ø–∞ 7: formatting)
   - [~] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è InlineFormatter/InlineFormatManager –≤ TextBlock ‚Äî In Progress: 2025-11-07 14:30
   - [x] –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏: Bold/Italic/Underline ‚Äî Completed: 2025-11-07 15:45
   - [ ] –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏: Strike/Code (–æ—Å—Ç–∞–ª–æ—Å—å)
   - [ ] LinkManager: –≤—Å—Ç–∞–≤–∫–∞/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Å—ã–ª–æ–∫ (–≤–Ω–µ—à–Ω–∏–µ/–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ/–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ)
   - [x] –ê–≤—Ç–æ‚Äë–ª–∏–Ω–∫–∏–Ω–≥ URL —Å –¥–µ–±–∞—É–Ω—Å–æ–º ‚Äî Completed: 2025-11-07 16:10
   - [x] Markdown shortcuts (**bold**, *italic*) ‚Äî Completed: 2025-11-07 17:20
```

3. **–î–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–¥–µ–ª Known Issues:**
```markdown
### 8) Known Issues / Bugs
- [x] Backslash —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ slash menu ‚Äî Fixed: 2025-11-07 18:00
- [x] –î–≤–æ–π–Ω—ã–µ –ø—Ä–æ–±–µ–ª—ã –ø–æ—Å–ª–µ markdown —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è ‚Äî Fixed: 2025-11-07 17:30
- [x] &nbsp; —Å–∏–º–≤–æ–ª—ã –ø–æ—Å–ª–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è ‚Äî Fixed: 2025-11-07 17:30
- [x] Slash menu –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ ‚Äî Fixed: 2025-11-07 18:30
- [x] –°–ª—ç—à –Ω–µ —É–¥–∞–ª—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –∫–æ–º–∞–Ω–¥—ã ‚Äî Fixed: 2025-11-07 18:45
- [ ] (–°–ø–∏—Å–æ–∫ –±—É–¥—É—â–∏—Ö –±–∞–≥–æ–≤)
```

### –î–ª—è DEV_PROMPT.md:

1. **–î–æ–±–∞–≤–∏—Ç—å –≤ —Ä–∞–∑–¥–µ–ª "1) Inputs and Context":**
```markdown
- **First check conversation summary:**
  - Unfinished work from previous session
  - Recent changes not yet documented in PROGRESS.md/MASTER_PLAN.md
  - Current bugs or issues
  - If found, document/fix BEFORE proceeding with new tasks
```

2. **–î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–æ—Å—Ç–æ—è–Ω–∏–π –∑–∞–¥–∞—á:**
```markdown
3.5) Task States in MASTER_PLAN.md
- [x] ‚Äî Completed (with timestamp)
- [~] ‚Äî In Progress (with start timestamp and sub-tasks)
- [ ] ‚Äî Pending
- [!] ‚Äî Blocked (with blocker description)
```

3. **–î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –±–∞–≥–æ–≤:**
```markdown
6.5) Bug Handling
- If bug found or user reports issue:
  1. Create "### Known Issues" section if not exists
  2. Log bug with [ ] checkbox
  3. Fix immediately if blocking
  4. Or create TODO and continue with plan
  5. Mark [x] when fixed with timestamp
```

4. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç –≤—Ä–µ–º–µ–Ω–∏:**
```markdown
8) Timestamps
- Use current date from system context (user_info.Current Date)
- Format: YYYY-MM-DD HH:mm
- If time unavailable, use: YYYY-MM-DD (session N)
```

5. **–£–±—Ä–∞—Ç—å/–∏–∑–º–µ–Ω–∏—Ç—å "Commit Message Style":**
```markdown
7) Progress Documentation Style
Each completed step must have entry in PROGRESS.md:

### –®–∞–≥ N: [Title] ‚úÖ
**–î–∞—Ç–∞:** YYYY-MM-DD HH:mm
**–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:**
- Bullet points
**–§–∞–π–ª—ã:** list of files
**–¢–µ—Å—Ç—ã:** test changes
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** one sentence
```

---

## 4. –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞: –ù–µ–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞!

**–°–†–û–ß–ù–û —Ç—Ä–µ–±—É–µ—Ç—Å—è:**

1. –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –≤ PROGRESS.md —Ä–∞–±–æ—Ç—É –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–µ—Å—Å–∏–∏:
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è InlineFormatManager (–≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏)
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–æ–≤ (backslash, &nbsp;, slash menu)
   - Markdown shortcuts —á–µ—Ä–µ–∑ DOM API

2. –û–±–Ω–æ–≤–∏—Ç—å MASTER_PLAN.md —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏

3. –ò—Å–ø—Ä–∞–≤–∏—Ç—å DEV_PROMPT.md –ø–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º –≤—ã—à–µ

---

## 5. –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞

### MASTER_PLAN.md: 6/10
- ‚úÖ –•–æ—Ä–æ—à–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- ‚úÖ –ß—ë—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ Must/Should/Could
- ‚ùå –ù–µ—Ç–æ—á–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã (–æ—Ç—Å—Ç–∞—é—Ç –æ—Ç —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏)
- ‚ùå –ù–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–µ–∫—É—â–µ–π —Ä–∞–±–æ—Ç–µ
- ‚ùå –ù–µ—Ç —Ä–∞–∑–¥–µ–ª–∞ Known Issues
- ‚ùå –ó–∞–≥–ª—É—à–∫–∏ –¥–∞—Ç –≤–º–µ—Å—Ç–æ —Ä–µ–∞–ª—å–Ω—ã—Ö

### DEV_PROMPT.md: 7/10
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —à–∞–≥–æ–≤
- ‚úÖ –ß—ë—Ç–∫–∏–π DoD
- ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚ùå –ù–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç summary/–∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Å–µ—Å—Å–∏–∏
- ‚ùå –ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∑–∞–¥–∞—á ([~] in progress)
- ‚ùå –ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–∞–≥–æ–≤
- ‚ùå –ù–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏–∏ (—á—Ç–æ –≤–∞–∂–Ω–µ–µ)
- ‚ö†Ô∏è –§–æ—Ä–º–∞—Ç –≤—Ä–µ–º–µ–Ω–∏ –Ω–µ—Ä–µ–∞–ª–∏—Å—Ç–∏—á–µ–Ω –¥–ª—è AI

### –†–µ–∞–ª—å–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å –ø—Ä–æ–µ–∫—Ç–∞: ~45% MVP
- –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞: 100%
- Core: 100%
- Document: 100%
- Blocks: 70% (–±–∞–∑–æ–≤—ã–µ 100%, —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ 0%)
- Commands: 80% (slash 100%, markdown 60%)
- **Inline Formatting: 60%** (–±—ã–ª–æ 0%, —Å—Ç–∞–ª–æ 60% –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é —Å–µ—Å—Å–∏—é!)
- Interactions: 10% (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –µ—Å—Ç—å, –Ω–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã)
- Export/AutoSave: 20% (API –µ—Å—Ç—å, UI –Ω–µ—Ç)
- UI: 30% (–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –µ—Å—Ç—å, –Ω–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã)
- Tests: 50% (unit 70%, integration 10%)

---

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Ä–∞–±–æ—Ç—É –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ–±–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞.

